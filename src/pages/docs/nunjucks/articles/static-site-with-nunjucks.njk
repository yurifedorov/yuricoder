{% extends "base.njk" %}

{% set title       = 'Cборка статического сайта с Nunjucks' %}
{% set description = 'Как Nunjucks собирает веб-страницы? Пример сборки простого сайта из двух страниц с одинаковым хедером и футером' %}

{% set document      = 'static-site-with-nunjucks' %}
{% set category       = 'docs' %}
{% set subcategory    = 'nunjucks' %}
{% set segment        = 'articles' %}
{% set subsegment     = 'static-site-with-nunjucks' %}

{% set syntax_highlight = true %}

{% block aside_top %}{% include aside_top %}{% endblock %}
{% block aside_left %}{% include aside_left %}{% endblock %}

{% block main %}

  <h1>Cборка статического сайта с Nunjucks</h1>
  <p>Благодаря <a href="template-inheritance.html">наследованию шаблонов</a> можно собрать неограниченное число статических страниц с в одном стиле.</p>
  <p>Ниже привожу простейший пример, где есть шаблон (base.njk) с общими частями кода и две страницы с уникальным контетом.</p>

  
  <section class="section">
    <h2>Примеры страниц и код шаблонов </h2>
    <p>Верхняя и нижняя часть формируется из base.njk, а контент для страниц "прайс лист" и "контакты" извлекается из дочерних шаблонов.</p>

    <h3>base.njk</h3>
    {% set example_id = 'base_code' %}
    {% set numeration = true %}
    {% set split      = false %}
    {% set html       = false %}
    {% set njk        = true %}
    {% set css        = false  %}
    {% set js         = false %}
    {% set demo       = false  %}
    {% include codeExample %}

    <h3>page-1</h3>
    {% set example_id = 'page1_code' %}
    {% set numeration = true %}
    {% set split      = false %}
    {% set html       = false %}
    {% set njk        = true %}
    {% set css        = false  %}
    {% set js         = false %}
    {% set demo       = 'page1_demo.njk'  %}
    {% include codeExample %}

    <h3>page-2</h3>
    {% set example_id = 'page2_code' %}
    {% set numeration = true %}
    {% set split      = false %}
    {% set html       = false %}
    {% set njk        = true %}
    {% set css        = false  %}
    {% set js         = false %}
    {% set demo       = 'page2_demo.njk'  %}
    {% include codeExample %}

  </section>

  <section class="section">
    <h2>Процесс сборки страниц</h2>
    <p>Есть шаблон base.njk и два дочерних page1, page2.</p>
    <img src="/img/docs/tools/nunjucks/build-process.gif" alt="процесс сборки страниц в nunjucks">
    <ol class="list">
      <li>nunjucks начинает сканирование шаблонов 'page1' и 'page2'</li>
      <li>находит тег 'extends', указанный в самом начале</li>
      <li>строит базовую разметку согласно 'base.njk'</li>
      <li>извлекает контент из дочерних шаблонов</li>
      <li>завершает работу</li>
    </ol>
    <p>Как результат, мы имееи две html-страницы <b>page1.html</b> и <b>page2.html</b> (страниц может быть любое количество).</p>
  </section>
  
{% endblock %}